var M=(r,i)=>()=>(i||r((i={exports:{}}).exports,i),i.exports);var S=M(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.createDataFieldsReactions=g.createActions=void 0;var p=require("mobx-miniprogram");function w(r,i){(i==null||i>r.length)&&(i=r.length);for(var n=0,e=new Array(i);n<i;n++)e[n]=r[n];return e}function j(r,i,n){return i in r?Object.defineProperty(r,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[i]=n,r}function E(r){return function(i){if(Array.isArray(i))return w(i)}(r)||function(i){if(typeof Symbol!="undefined"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(r)||D(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(r,i){if(r){if(typeof r=="string")return w(r,i);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(r,i)}}var P=function(r){setTimeout(r,16)};g.createActions=function(r,i){var n=i.store,e=i.actions;if(e){if(n===void 0)throw new Error("[mobx-miniprogram] no store specified");Array.isArray(e)?e.forEach(function(s){if(r[s])throw new Error("[mobx-miniprogram] multiple action definition");r[s]=function(){for(var a,u=arguments.length,c=new Array(u),t=0;t<u;t++)c[t]=arguments[t];return(a=n)[s].apply(a,E(c))}}):typeof e=="object"&&Object.keys(e).forEach(function(s){var a=e[s];if(typeof s!="string"&&typeof s!="number")throw new Error("[mobx-miniprogram] unrecognized field definition");r[s]=function(){for(var u,c=arguments.length,t=new Array(c),m=0;m<c;m++)t[m]=arguments[m];return(u=n)[a].apply(u,E(t))}})}},g.createDataFieldsReactions=function(r,i){var n=i.store,e=i.fields,s=i.structuralComparison,a=i.namespace||"";if(a&&typeof a!="string")throw new Error("[mobx-miniprogram] namespace only expect string");a=a.replace(new RegExp(" ","gm"),"");var u=Object.assign({},r[a]),c=s?p.comparer.structural:void 0,t=null,m=function(){if(t!==null){var o=t;t=null,r.setData(o)}},B=function(o,f){t||(t={},P(m)),a!==""?(u=function(d){for(var l=1;l<arguments.length;l++){var h=arguments[l]!=null?arguments[l]:{},x=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(x=x.concat(Object.getOwnPropertySymbols(h).filter(function(y){return Object.getOwnPropertyDescriptor(h,y).enumerable}))),x.forEach(function(y){j(d,y,h[y])})}return d}({},u,j({},o,p.toJS(f))),t[a]=u):t[o]=p.toJS(f)},A=[];if(Array.isArray(e)){if(n===void 0)throw new Error("[mobx-miniprogram] no store specified");A=e.map(function(o){return p.reaction(function(){return n[o]},function(f){B(o,f)},{equals:c,fireImmediately:!0})})}else typeof e=="object"&&e&&(A=Object.keys(e).map(function(o){var f=e[o];if(typeof f=="function")return p.reaction(function(){return f.call(r,n)},function(d){B(o,d)},{equals:c,fireImmediately:!0});if(typeof o!="string"&&typeof o!="number")throw new Error("[mobx-miniprogram] unrecognized field definition");if(n===void 0)throw new Error("[mobx-miniprogram] no store specified");return p.reaction(function(){return n[f]},function(d){B(String(o),d)},{equals:c,fireImmediately:!0})}));return{updateStoreBindings:m,destroyStoreBindings:function(){A.forEach(function(o){return o()})}}}});var O=M(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.behavior=void 0;var v=S(),F=Behavior({definitionFilter:function(r){r.methods=r.methods||{};var i=r.storeBindings;r.methods._mobxMiniprogramBindings=function(){return i},i&&(Array.isArray(i)?i.forEach(function(n){v.createActions(r.methods,n)}):v.createActions(r.methods,i))},lifetimes:{attached:function(){if(typeof this._mobxMiniprogramBindings=="function"){var r=this._mobxMiniprogramBindings();if(!r){this._mobxMiniprogramBindings=null;return}if(Array.isArray(r)){var i=this;this._mobxMiniprogramBindings=r.map(function(n){var e=v.createDataFieldsReactions(i,n);return e.updateStoreBindings(),e})}else this._mobxMiniprogramBindings=v.createDataFieldsReactions(this,r),this._mobxMiniprogramBindings.updateStoreBindings()}},detached:function(){this._mobxMiniprogramBindings&&(Array.isArray(this._mobxMiniprogramBindings)?this._mobxMiniprogramBindings.forEach(function(r){r.destroyStoreBindings()}):this._mobxMiniprogramBindings.destroyStoreBindings())}},methods:{updateStoreBindings:function(){this._mobxMiniprogramBindings&&typeof this._mobxMiniprogramBindings!="function"&&(Array.isArray(this._mobxMiniprogramBindings)?this._mobxMiniprogramBindings.forEach(function(r){r.updateStoreBindings()}):this._mobxMiniprogramBindings.updateStoreBindings())}}});b.behavior=F});"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentWithStore=function(r){return Array.isArray(r.behaviors)||(r.behaviors=[]),r.behaviors.unshift(_.behavior),Component(r)},exports.BehaviorWithStore=function(r){return Array.isArray(r.behaviors)||(r.behaviors=[]),r.behaviors.unshift(_.behavior),Behavior(r)},exports.storeBindingsBehavior=exports.createStoreBindings=void 0;var _=O(),q=S();exports.createStoreBindings=function(r,i){return q.createActions(r,i),q.createDataFieldsReactions(r,i)};var I=_.behavior;exports.storeBindingsBehavior=I;
